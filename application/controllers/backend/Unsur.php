<?phpdefined('BASEPATH') or exit('No direct script access allowed');class Unsur extends CI_Controller{    public function __construct()    {        parent::__construct();        $this->load->model('m_unsur','unsur');        if($this->session->userdata('user_id') == ''):            redirect(base_url('console'));        endif;    }    public function index()    {        $unsur_id = $this->input->get('uid');        $id = isset($unsur_id) ? decrypt_url($unsur_id) : null;        $data = [            'title' => 'e-Survei | Unsur',            'content' => 'Backend/pages/unsur',            'list_unsur' => $this->unsur->get_unsur($id)        ];        $this->load->view('Backend/layout/app', $data);    }    public function insert()    {         $p = $this->input->post();         $data = ['jdl_unsur' => $p['nama_unsur']];         $db = $this->unsur->insert('skm_unsur', $data);         if($db)         {            $this->session->set_flashdata(['msg' => 'Unsur <b>'.$p['nama_unsur'].'</b> Berhasil Ditambahkan', 'msg_type' => 'success']);         } else {            $this->session->set_flashdata(['msg' => 'Unsur <b>'.$p['nama_unsur'].'</b> Gagal Ditambahkan', 'msg_type' => 'danger']);         }         redirect(base_url('unsur'));         // echo json_encode($p);    }    public function edit($id)    {      $unsur_id = decrypt_url($id);      $db = $this->unsur->unsur_detail($unsur_id)->row();      echo json_encode($db);    }    public function update()    {      $p = $this->input->post();      $whr = ['id' => $p['id']];      $data = ['jdl_unsur' => $p['nama_unsur']];      $db = $this->unsur->update('skm_unsur', $data, $whr);      if($db)      {         $this->session->set_flashdata(['msg' => 'Unsur <b>'.$p['nama_unsur'].'</b> Berhasil Diupdate', 'msg_type' => 'success']);      } else {         $this->session->set_flashdata(['msg' => 'Unsur <b>'.$p['nama_unsur'].'</b> Gagal Diupdate', 'msg_type' => 'danger']);      }      redirect(base_url('unsur'));      // echo json_encode($p);    }}